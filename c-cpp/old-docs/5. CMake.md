
CMake  acts as a unified build system for many different system.

It tends to be more like a build system that can generate projects for different platforms and compilers.

CMake has the ability to add any amount of libraries and executable to itself and keeps track on files that have been altered since the last compile to reduce compilation time.

A file called `CMakeLists.txt` is usually added to a directory that you want to act as your project root.

```cmake
cmake_minimum_require(VERSION 4.0)

project(YourProjectName)
```

To add an executable, you need to define the name and the source files.
Files usually are relative to the CMakeLists.txt file.
```cmake
add_executable(my_app my_app.c my_other_file.c)
```

Cmake configurations for setting up files can be a bit tedious to add files manually.
So you can do file filtering with GLOB(only files in a single folder) or GLOB_RECURSE (all subfolders in a folder.)

```cmake
file(GLOB_RECURSE MY_SOURCES CONFIGURE_DEPENDS # the variable name
	src1/*.c 
	src2/*.c
	 # This will make it configure and check for new files each build
)

add_executable(my_app ${MY_SOURCES})
```

Adding include directories for you headers can be done globally or locally to your executable / library.

```cmake

include_directories(
	path/to/header/
)
#or for a target executable or library.

target_include_directories(
	my_app
	PULBIC # You can define a visiblity of headers if something links to this.
	path/to/header/
	path/to/another/header/
)

```

If you wanna link to an external project with sources, you can add it to your project and it will try to find a CMakeLists.txt files inside there as its own imported project.
```
add_subdirectory(path/to/folder)
```

Adding a library is very similar to executables
```cmake
add_library(lib_name STATIC|SHARED ...files)
```

And then linking with other targets is by using:
```c
target_link_library(target lib1 lib2 lib3 projectName::lib3)
```

### Minimal example
```cmake
cmake_minimum_required(VERSION "4.0")

project(my_project)

file(GLOB_RECURSE MY_SOURCES CONFIGURE_DEPENDS src/*.c)
add_executable(my_app ${MY_SOURCES})
target_include_directories(my_app PUBLIC ./include/)
```